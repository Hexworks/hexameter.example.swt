buildscript {
    ext {
        shadowVersion = '2.0.1'
        hexameterVersion = '3.0.0'
    }
    repositories {
        jcenter()
        mavenCentral()
        mavenLocal()
    }
    dependencies {
        classpath("com.github.jengelman.gradle.plugins:shadow:$shadowVersion")
    }
}

apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'com.github.johnrengelman.shadow'


jar {
    baseName = 'hexameter.example.swt'
    manifest {
        attributes 'Implementation-Title': 'Hexameter SWT Example',
                'Implementation-Version': version,
                'Main-Class': 'org.codetome.hexameter.swtexample.Main'
    }
}

sourceCompatibility = 1.7

configurations {
    shadow
    compile.extendsFrom provided
    provided.extendsFrom shadow
}

shadowJar {
    baseName = 'hexameter.example.swt'
    classifier = null
    version = null
}

artifacts {
    archives shadowJar
}

repositories {
    mavenCentral()
    mavenLocal()
}

dependencies {
    compile("org.codetome.hexameter:hexameter.core:2017.1.0")
    compile("org.eclipse.swt:org.eclipse.swt.win32.win32.x86_64:4.3")
}